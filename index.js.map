{"version":3,"file":"index.js","sources":["../src/js/render-functions.js","../src/js/pixabay-api.js","../src/main.js"],"sourcesContent":["import SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\nconst gallery = document.querySelector(\".gallery\")\nconst loader = document.querySelector(\".loader\")\n\nexport function createGallery(images) {\n    const markup = images.map(({\n          webformatURL,\n          largeImageURL,\n          tags,\n          likes,\n          views,\n          comments,\n          downloads,\n        }) => `\n          <li class=\"gallery-item\">\n            <a href=\"${largeImageURL}\">\n              <img src=\"${webformatURL}\" alt=\"${tags}\" loading=\"lazy\" />\n            </a>\n            <div class=\"info\">\n              <p><b>Likes:</b> ${likes}</p>\n              <p><b>Views:</b> ${views}</p>\n              <p><b>Comments:</b> ${comments}</p>\n              <p><b>Downloads:</b> ${downloads}</p>\n            </div>\n          </li>\n        `\n    )\n    .join(\"\")\n\n    gallery.innerHTML = markup\n\n    const lightbox = new SimpleLightbox(\".gallery a\", {\n      captions: true,\n      captionsData: \"alt\",\n      captionDelay: 250\n  })\n}\n\nexport function clearGallery() {\n    gallery.innerHTML = \"\"\n}\n\nexport function showLoader() {\n    loader.classList.remove(\"hidden\")\n}\n\nexport function hideLoader() {\n    loader.classList.add(\"hidden\")\n}","import axios from 'axios';\n\nimport iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n\nimport {\n  createGallery,\n  clearGallery,\n  hideLoader\n} from '/js/render-functions';\n\nconst BASE_URL = 'https://pixabay.com/api/';\nconst API_KEY = '52318112-aedb8ccc797c66be623deef69';\n\nexport function getImagesByQuery(query) {\n  const params = new URLSearchParams({\n    key: API_KEY,\n    q: query,\n    image_type: 'photo',\n    orientation: 'horizontal',\n    safesearch: true,\n  });\n\n  // return fetch(`${BASE_URL}?${params}`)\n  // .then((res) => {\n  //     if(!res.ok) {\n  //         throw new Error(res.status);\n  //     }\n\n  //     return res.json();\n  // })\n\n  axios\n    .get(BASE_URL, { params })\n    .then(res => {\n      clearGallery();\n      createGallery(res.data.hits);\n    })\n    .catch(error => {\n      iziToast.show({\n        message:\n          'Sorry, there are no images matching your search query. Please try again!',\n        color: 'red',\n        position: 'topRight',\n      });\n    })\n    .finally(() => {\n      hideLoader();\n      form.reset();\n    });\n}\n","import { getImagesByQuery } from './js/pixabay-api';\n\nconst form = document.querySelector('.form');\n\nimport { showLoader } from '/js/render-functions';\n\nform.addEventListener('submit', searchImg);\nfunction searchImg(event) {\n  event.preventDefault();\n  showLoader()\n\n  const searchElem = form.elements['search-text'].value.trim();\n\n  getImagesByQuery(searchElem)\n}\n\n\n"],"names":["gallery","loader","createGallery","images","markup","webformatURL","largeImageURL","tags","likes","views","comments","downloads","SimpleLightbox","clearGallery","showLoader","hideLoader","BASE_URL","API_KEY","getImagesByQuery","query","params","axios","res","error","iziToast","form","searchImg","event","searchElem"],"mappings":"owBAGA,MAAMA,EAAU,SAAS,cAAc,UAAU,EAC3CC,EAAS,SAAS,cAAc,SAAS,EAExC,SAASC,EAAcC,EAAQ,CAClC,MAAMC,EAASD,EAAO,IAAI,CAAC,CACrB,aAAAE,EACA,cAAAC,EACA,KAAAC,EACA,MAAAC,EACA,MAAAC,EACA,SAAAC,EACA,UAAAC,CACV,IAAc;AAAA;AAAA,uBAESL,CAAa;AAAA,0BACVD,CAAY,UAAUE,CAAI;AAAA;AAAA;AAAA,iCAGnBC,CAAK;AAAA,iCACLC,CAAK;AAAA,oCACFC,CAAQ;AAAA,qCACPC,CAAS;AAAA;AAAA;AAAA,SAIzC,EACA,KAAK,EAAE,EAERX,EAAQ,UAAYI,EAEH,IAAIQ,EAAe,aAAc,CAChD,SAAU,GACV,aAAc,MACd,aAAc,GACpB,CAAG,CACH,CAEO,SAASC,GAAe,CAC3Bb,EAAQ,UAAY,EACxB,CAEO,SAASc,GAAa,CACzBb,EAAO,UAAU,OAAO,QAAQ,CACpC,CAEO,SAASc,GAAa,CACzBd,EAAO,UAAU,IAAI,QAAQ,CACjC,CCvCA,MAAMe,EAAW,2BACXC,EAAU,qCAET,SAASC,EAAiBC,EAAO,CACtC,MAAMC,EAAS,IAAI,gBAAgB,CACjC,IAAKH,EACL,EAAGE,EACH,WAAY,QACZ,YAAa,aACb,WAAY,EAChB,CAAG,EAWDE,EACG,IAAIL,EAAU,CAAE,OAAAI,EAAQ,EACxB,KAAKE,GAAO,CACXT,IACAX,EAAcoB,EAAI,KAAK,IAAI,CACjC,CAAK,EACA,MAAMC,GAAS,CACdC,EAAS,KAAK,CACZ,QACE,2EACF,MAAO,MACP,SAAU,UAClB,CAAO,CACP,CAAK,EACA,QAAQ,IAAM,CACbT,IACA,KAAK,MAAK,CAChB,CAAK,CACL,CChDA,MAAMU,EAAO,SAAS,cAAc,OAAO,EAI3CA,EAAK,iBAAiB,SAAUC,CAAS,EACzC,SAASA,EAAUC,EAAO,CACxBA,EAAM,eAAc,EACpBb,EAAY,EAEZ,MAAMc,EAAaH,EAAK,SAAS,aAAa,EAAE,MAAM,OAEtDP,EAAiBU,CAAU,CAC7B"}